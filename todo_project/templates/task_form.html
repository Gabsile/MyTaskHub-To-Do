{% extends "base.html" %}

{% block title %}{% if task %}Edit Task{% else %}Add Task{% endif %}{% endblock %}

{% block content %}
<div class="task-form-page">
    <div class="form-container">
        <h2 class="form-title">{% if task %}Edit Task{% else %}Add New Task{% endif %}</h2>
        
        <form method="post" class="task-form">
            {% csrf_token %}
            
            {% if task %}
            <input type="hidden" name="completed" value="{{ task.completed|lower }}">
            {% endif %}
            
            <div class="form-group">
                <label for="id_title">Title:</label>
                {{ form.title }}
            </div>

            <div class="form-group">
                <label for="id_description">Description:</label>
                {{ form.description }}
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="id_due_date">Due Date:</label>
                    {{ form.due_date }}
                </div>

                <div class="form-group">
                    <label for="id_due_time">Due Time:</label>
                    {{ form.due_time }}
                </div>
            </div>

            <div class="form-group">
                <label for="id_priority">Priority:</label>
                {{ form.priority }}
            </div>

            <div class="form-actions">
                <button type="submit" class="btn-primary">{% if task %}Update{% else %}Add{% endif %} Task</button>
                <a href="/tasks/?filter={{ request.GET.filter|default:'today' }}" class="btn-secondary">Cancel</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}